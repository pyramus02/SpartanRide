<!DOCTYPE html>
<html style="background-color: #bac5f5" lang="en" xmlns:th="https://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SpartanRide - Rider Page</title>

    <link th:href="@{https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css}" rel="stylesheet">


    <link th:href="@{/css/master.css}" rel="stylesheet">
</head>

<body style="background-color: #bac5f5">
<div class="page-container">
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg header shadow">
        <div class="container-fluid">
            <a class="headerTitle" style="color: gold" href="../../../../../index.html">SpartanRide</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto">

                </ul>

                <button type="button" class="btn" style="border-radius: 20px;
                        background-color: blanchedalmond ;margin-left: 10px">

                    <a href="/rider/login-page">Logout</a>

                </button>


            </div>
        </div>
    </nav>



    <h1>Explore the UNCG Area!</h1>

    <div id="googleMap" style="width:100%;height:400px;"></div>

    <script>
        function myMap() {
        var mapProp= {
          center:new google.maps.LatLng(36.07193490490237,-79.80311660314943),
          zoom:5,
        };
        var map = new google.maps.Map(document.getElementById("googleMap"),mapProp);
        }
    </script>

    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCXNrvTMlrQ8sd9zsPoFrNQHZaE0ZPEpQk&callback=myMap"></script>















    <!-- Main content section -->
    <div class="container">
        <h1 class="headerTitle">Welcome to SpartanRide </h1>


        <hr>

        <!-- View Available Rides -->
        <section id="available-rides">
            <h2>Available Rides</h2>

            <table class="table" style="color: gold;">
                <thead>
                <tr>
                    <th>ID</th>
                    <th>Name</th>
                    <th>Destination</th>
                    <th>Embarkment</th>
                    <th>Subscribe</th>
                    <th>Unsubscribe</th>
                    <th>Report</th>
                </tr>
                </thead>
                <tbody>
                <tr data-th-each="driver : ${driverList}">

                    <td data-th-text="${driver.id}"></td>
                    <td data-th-text="${driver.name}"></td>
                    <td data-th-text="${driver.destination}"></td>
                    <td data-th-text="${driver.embarkment}"></td>




                    <td>



                        <a
                                th:href="@{/rider/subscribe/{driverId}/{riderId}(driverId=${driver.id}, riderId=${rider.id})}"
                                class="btn btn-success btn-sm">
                            Sub
                        </a>

                    </td>



                    <td>



                        <a
                                th:href="@{/rider/unsubscribe/{driverId}/{riderId}(driverId=${driver.id}, riderId=${rider.id})}"
                                class="btn btn-success btn-sm">
                            Unsub
                        </a>

                    </td>




                    <td>



                        <a
                                th:href="@{/rider/report-driver/{driverId}/{riderId}(driverId=${driver.id}, riderId=${rider.id})}"
                                class="btn btn-danger btn-sm">
                            Report
                        </a>

                    </td>


                </tr>
                </tbody>
            </table>
        </section>

        <hr>


        <hr>

        <!-- Write Review -->
        <section id="write-review">
            <h2>Write a Review</h2>
            <form action="review/new">
                <label for="subjectId">Enter Ride ID:</label>
                <input type="number" id="subjectId" name="subjectId" required><br><br>

                <input type="hidden" name="authorId" th:value="${rider.id}" />

                <label for="reviewText">Your Review:</label>
                <textarea id="reviewText" name="reviewText" required></textarea><br><br>



                <button type="submit" class="btn" style="background-color: #4CAF50; color: white;">Submit Review</button>
            </form>
        </section>
    </div>

</div>
</body>
</html>
